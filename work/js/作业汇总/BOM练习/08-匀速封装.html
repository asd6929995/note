<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	.d1{
		position: absolute;
		width: 120px;
		height: 120px;
		background-color: red;
	}
	.btn1{
		margin-top:200px;
	}

</style>
</head>
<body>
	<div class="d1">
	</div>
	<button class="btn1">跳到400px</button>
	<button class="btn2">跳到800PX</button>
	<script>
	var d1El=document.getElementsByClassName('d1')[0];
	var btn1=document.getElementsByClassName('btn1')[0];
	var btn2=document.getElementsByClassName('btn2')[0];
	var a=405;
	var b=800;
	var timer=null;
	btn1.onclick=function(){
		automatic(d1El,a);
	}
	btn2.onclick=function(){
		automatic(d1El,b);
	}

	function automatic(el,date){
		clearInterval(timer);
		timer=setInterval(function(){
			var inc=date>el.offsetLeft?10:-10;
			el.style.left=(el.offsetLeft+inc)+'px';
			var cha=date-el.offsetLeft;
			if (Math.abs(cha)<Math.abs(inc)) {
				el.style.left=date+'px';
				clearInterval(timer);
			}


		},20)

	}



	</script>
</body>
</html>