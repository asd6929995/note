<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
.danger{
	color:red;
}
.strong{
	font-weight: bold;
	font-size: 30px;
}
</style>
<body>
	<p class="danger strong">asdasdjj</p>
	<p id="p2">sadasdasd</p>
	<button class="btn1">添加danger</button>
	<button class="btn2">添加strong</button>
	<button class="btn3">删除danger</button>
	<script>
		var pEl=document.getElementById('p2');
		var btn1=document.getElementsByClassName('btn1')[0];
		var btn2=document.getElementsByClassName('btn2')[0];
		var btn3=document.getElementsByClassName('btn3')[0];
		btn1.onclick=function(){
			addClass(pEl,'danger');
		}
		btn2.onclick=function(){
			addClass(pEl,'strong');
		}
		btn3.onclick=function(){
			delClass(pEl,'danger');
		}

		function addClass(el,className){
			 												
			if (el.getAttribute('class')) {					//如果存在形参el的class名称
				var oldClassStr=el.getAttribute('class');		//则空的数组等于形参el的calss名称
				var oldClassArr= oldClassStr.split(' ');	//先将字符串打断成数组，再归入新设定的变量里
				console.log(typeof(oldClassArr));			//打印查看类型
				if (oldClassArr.indexOf(className)!=-1) {	//如果数组中没有形参className
					return;									//直接打印
				}else{										//否则
					oldClassStr +=' ';	 					//最开始的空变量等于自己加工一个空格
				}
			}
			oldClassStr +=className;						//设定的变量等于自身在加上需要的添加的实参
			el.setAttribute('class',oldClassStr);			//设定目标的class名称值为变量。
		}
		function delClass(el,className){					
			if (!el.getAttribute('class')) {				//如果目标实参中没有class名称
				return;										//直接输出
			}
			var oldClassStr=el.getAttribute('class');		//设置一个变量a,接收目标class值；
			var oldClassArr=oldClassStr.split(' ');			//将字符串a的字符串以空格处打断，成为数组。赋予另一个变量b。此时a为空
			var index=oldClassArr.indexOf(className);		//查找字符串数组b中事件实参的下标，其值赋予变量c；  b不为空
			if (index!=-1) {								//如果数字数组c存在，则							c不为空	
				oldClassArr.splice(index,1);				//数组b删除对应数字c的下标值，删除一位。			得出新数组b
			}
			oldClassStr=oldClassArr.join(' ');				//将得出的字符串数组b添加空格重新转换为字符串a      b为空，a得到新值。
			el.setAttribute('class',oldClassStr);			//最后设置目标实参的class值为字符串a；
		}

	</script>
</body>
</html>